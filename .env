# 默认配置 (8GB内存)
MEMORY_CONFIG=8gb
MEMORY_LIMIT=7.5G
NUM_THREADS=4
QUANT_LEVEL=4bit
MAX_SEQ_LEN=64
MAX_SAMPLES=200
LORA_R=8
BATCH_SIZE=1
GRAD_ACCUM=16
MAX_LENGTH=1024
MONITOR_MEMORY=true        # 启用内存监控
MEMORY_CHECK_INTERVAL=60   # 内存检查间隔(秒)
PERFORMANCE_LOG_STEPS=100  # 性能记录间隔(步数)

# 取消注释以下配置组之一来切换配置

# 4GB内存配置
# MEMORY_CONFIG=4gb
# MEMORY_LIMIT=3.8G
# NUM_THREADS=2
# QUANT_LEVEL=4bit
# MAX_SEQ_LEN=32
# MAX_SAMPLES=30
# LORA_R=4
# BATCH_SIZE=1
# GRAD_ACCUM=32
# MAX_LENGTH=512
# MONITOR_MEMORY=true
# MEMORY_CHECK_INTERVAL=30
# PERFORMANCE_LOG_STEPS=50

# 16GB内存配置
# MEMORY_CONFIG=16gb
# MEMORY_LIMIT=15G
# NUM_THREADS=8
# QUANT_LEVEL=8bit
# MAX_SEQ_LEN=128
# MAX_SAMPLES=800
# LORA_R=16
# BATCH_SIZE=2
# GRAD_ACCUM=8
# MAX_LENGTH=2048
# MONITOR_MEMORY=true
# MEMORY_CHECK_INTERVAL=120
# PERFORMANCE_LOG_STEPS=200

# 32GB内存配置
# MEMORY_CONFIG=32gb
# MEMORY_LIMIT=30G
# NUM_THREADS=16
# QUANT_LEVEL=None
# MAX_SEQ_LEN=256
# MAX_SAMPLES=2000
# LORA_R=32
# BATCH_SIZE=4
# GRAD_ACCUM=4
# MAX_LENGTH=4096
# MONITOR_MEMORY=true
# MEMORY_CHECK_INTERVAL=180
# PERFORMANCE_LOG_STEPS=300